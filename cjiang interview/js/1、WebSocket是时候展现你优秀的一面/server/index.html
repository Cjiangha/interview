<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>




</body>
<!-- 1、websocket -->
<!-- <script>
    let ws = new WebSocket('ws://localhost:9999');

    // onopen是客户端与服务端建立连接后触发
    ws.onopen = function () {
        ws.send('哎呦，不错哦');
    };

    // onmessage是当服务端给客户端发来消息的时候触发
    ws.onmessage = function (res) {
        console.log(res); // 打印的是MessageEvent对象
        // 真正的消息数据是 res.data
        console.log(res.data);
    };
</script> -->


<!-- socket.io -->
<script src="/socket.io/socket.io.js"></script>
<script>
    const socket = io('/');
    // 监听与服务器连接成功的事件
    socket.on('connect', () => {
        console.log('连接成功');
        socket.send('周杰伦');
    });
    // 监听服务端发来的消息
    socket.on('message', msg => {
        // 这个msg就是传过来的真消息了，不用再msg.data取值了
        console.log(`客户端接收到的消息： ${msg}`);  
    });
    // 监听与服务器连接断开事件
    socket.on('disconnect', () => {
        console.log('连接断开成功');
    });

    /*
        这里要有个小提示: io创建socket的时候可以接收一个url参数
            url可以是socket服务完整的http地址，如：io('http://localhost:3000')
            也可以是相对路径，如：io('/')
            不填的话就表示默认连接当前路径，如：io()


    */ 
</script>

</html>