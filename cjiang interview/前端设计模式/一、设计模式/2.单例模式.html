<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
</body>
<script>
// class Person{
//   constructor(){}
// }
 
// let p1 = new Person();
// let p2 = new Person();
 
// console.log(p1===p2) //false


const Person = (function(){
  let instance = null;
  return class{
      constructor(){
        if(!instance){//!null -> true
         //第一次创建实例，那么需要把实例保存
          instance = this;
        }else{ // null->false
          return instance;
          // 第二次
      }
  }
  }
})()
let p3 = new Person();
let p4 = new Person();
console.log(p3===p4)  //true

</script>
</html>