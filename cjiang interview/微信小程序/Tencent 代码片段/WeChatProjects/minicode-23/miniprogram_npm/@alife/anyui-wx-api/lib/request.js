var u=Object.create,i=Object.defineProperty,l=Object.getPrototypeOf,n=Object.prototype.hasOwnProperty,p=Object.getOwnPropertyNames,f=Object.getOwnPropertyDescriptor;var c=e=>i(e,"__esModule",{value:!0});var m=(e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})},g=(e,t,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of p(t))!n.call(e,s)&&s!=="default"&&i(e,s,{get:()=>t[s],enumerable:!(r=f(t,s))||r.enumerable});return e},h=e=>e&&e.__esModule?e:g(c(i(e!=null?u(l(e)):{},"default",{value:e,enumerable:!0})),e);c(exports);m(exports,{default:()=>q});var d=h(require("../utils.js")),a={1:{description:"\u8BF7\u6C42\u6CA1\u6709\u7ED3\u675F\uFF0C\u5C31\u8DF3\u8F6C\u5230\u4E86\u53E6\u4E00\u4E2A\u9875\u9762\u3002"},2:{description:"\u53C2\u6570\u9519\u8BEF"},11:{description:"\u65E0\u6743\u8C03\u7528\u8BE5\u63A5\u53E3"},12:{description:"\u7F51\u7EDC\u9519\u8BEF"},13:{description:"\u7F51\u7EDC\u8D85\u65F6"}};function o(e){let t=e.errMsg;return/timeout|超时/.test(t)?{error:13,errorMessage:a[13]}:/url not in domain list|域名列表/.test(t)?{error:11,errorMessage:a[11]}:{error:12,errorMessage:a[12]}}function M(e={}){e.headers&&(e.header=e.headers,delete e.headers),wx.request({...e,success(t){t.headers=t.header,t.status=t.statusCode,delete t.header,delete t.statusCode,e.success&&e.success(t)},fail(t){e.fail&&e.fail(o(t))},complete(t){t.status?e.complete&&e.complete(t):e.complete&&e.complete(o(t))}})}var q=d.promisify(M);
