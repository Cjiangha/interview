(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["common/main"],{"034f":function(t,e,n){"use strict";var o=n("368d"),i=n.n(o);i.a},"23be":function(t,e,n){"use strict";n.r(e);var o=n("e4a4"),i=n.n(o);for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);e["default"]=i.a},"368d":function(t,e,n){},"3dfd":function(t,e,n){"use strict";n.r(e);var o=n("23be");for(var i in o)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(i);n("034f"),n("5c64");var a,s,c,u,r=n("f0c5"),l=Object(r["a"])(o["default"],a,s,!1,null,null,null,!1,c,u);e["default"]=l.exports},"56d7":function(t,e,n){"use strict";(function(t){n("6cdc");var e=c(n("3dfd")),o=c(n("4360")),i=c(n("a13e")),a=n("470c"),s=c(n("66fd"));function c(t){return t&&t.__esModule?t:{default:t}}function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}s.default.config.productionTip=!1,s.default.prototype.$onLaunched=new Promise((function(t){console.log("$onLaunched",t),s.default.prototype.$isResolve=t})),s.default.prototype.$store=o.default,s.default.prototype.$https=i.default,s.default.prototype.$util=a.util,s.default.prototype.$native=a.native,e.default.mpType="app";var f=new s.default(r({store:o.default},e.default));t(f).$mount()}).call(this,n("543d")["createApp"])},"5c64":function(t,e,n){"use strict";var o=n("7f39"),i=n.n(o);i.a},"7f39":function(t,e,n){},e4a4:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=u(n("a34a")),i=n("470c"),a=n("3028"),s=n("0168"),c=u(n("a13e"));function u(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n,o,i,a,s){try{var c=t[a](s),u=c.value}catch(r){return void n(r)}c.done?e(u):Promise.resolve(u).then(o,i)}function l(t){return function(){var e=this,n=arguments;return new Promise((function(o,i){var a=t.apply(e,n);function s(t){r(a,o,i,s,c,"next",t)}function c(t){r(a,o,i,s,c,"throw",t)}s(void 0)}))}}var f={onLaunch:function(e){console.log("App Launch"),this.globalData.statusBarHeight=t.getSystemInfoSync().statusBarHeight,this.$isResolve()},onShow:function(){},onHide:function(){},globalData:{openId:"",unionId:"",noLogin_openId:"",noLogin_unionId:"",statusBarHeight:0,agentInfo:null,switchTabList:["pages/project/list/list","pages/backletter/list/list","pages/mine/index/index"],loginWhiteList:["pages/login/login","pages/register/register","pages/forget/forget","pages/loading/loading"]},methods:{goBack:function(){var e=getCurrentPages(),n=e[e.length-2];if(n){n.route;t.navigateBack({})}else t.reLaunch({url:"/pages/project/list/list",complete:function(t){console.log(t)}})},judgeAgentInfo:function(e){var n=this;this.globalData.loginWhiteList&&-1===this.globalData.loginWhiteList.indexOf(e)?(0,a.getAgentInfo)().then((function(o){o&&0===o.code?"null"!=o.data&&null!=o.data&&(!o.data||0!=o.data.status&&2!=o.data.status)||-1!==e.indexOf("pages/checkInfo/checkInfo")?n.$isResolve():t.reLaunch({url:"/pages/checkInfo/checkInfo",complete:function(){n.$isResolve()}}):(i.native.toast(o.message||"获取用户信息失败"),n.$isResolve())})).catch((function(t){i.native.toast(t.toString()||"获取用户信息失败"),n.$isResolve()})):n.$isResolve()},miniAppLogin:function(){return new Promise((function(e,n){t.login({success:function(){var t=l(o.default.mark((function t(n){var s,c;return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=n.code,t.next=3,(0,a.wxLogin)({code:s,appName:i.util.appName,appType:"miniApp"});case 3:c=t.sent,e(c);case 5:case"end":return t.stop()}}),t)})));function n(e){return t.apply(this,arguments)}return n}(),fail:function(t){n(t)}})})).catch((function(t){i.native.toast(t.toString())}))},selectDictByType:function(t){return new Promise((function(e,n){(0,s.selectDictByType)({dictType:t}).then((function(t){t&&0===t.code?e(t.data):(e([]),i.native.toast(t.message||"获取数据字典失败"))})).catch((function(t){e([]),i.native.toast(t.msg||t.toString())}))})).catch((function(t){i.native.toast(t.toString())}))},saveAgentInfo:function(t){return new Promise((function(e){(0,s.saveAgentInfo)(t).then((function(t){t&&0===t.code?e("success"):(e("error"),i.native.toast(t.message||"保存企业信息失败"))})).catch((function(t){e("error"),i.native.toast(t.toString())}))}))},downloadFile:function(t){var e=this;if(t&&""!=t){i.native.showLoadingText("下载中。。。"),c.default.downloadFile({url:t}).then((function(t){console.log("ccc",t,t.tempFilePath);var n=t.tempFilePath,o=i.util.get_file_ext(n).ext;return"bin"==o?(i.native.hideLoading(),void i.native.toast("下载地址格式不正确,请联系管理员")):"json"==o?(i.native.hideLoading(),void i.native.toast("下载地址已被删除,请联系管理员")):void("jpeg"==o||"jpg"==o||"png"==o?e.saveImg(t.tempFilePath):e.saveFile(t.tempFilePath))})).catch((function(t){console.log("https.downloadFile err",t),i.native.hideLoading(),i.native.toast(t.errMsg||t.toString())}))}else i.native.toast("下载地址是空链接,请联系管理员")},saveImg:function(e){var n=this;t.getSetting({success:function(o){console.log(o.authSetting["scope.writePhotosAlbum"]),o.authSetting["scope.writePhotosAlbum"]?n.saveImageToPhotosAlbum(e):t.authorize({scope:"scope.writePhotosAlbum",success:function(){n.saveImageToPhotosAlbum(e)},complete:function(t){console.log("res",t),t.errMsg&&("authorize:fail:auth deny"==t.errMsg||t.errMsg.indexOf("authorize:fail")>-1)&&n.getOpensetting(e)}})}})},saveImageToPhotosAlbum:function(e){t.saveImageToPhotosAlbum({filePath:e,success:function(t){i.native.hideLoading(),i.native.toast("下载图片成功")},fail:function(t){t.errMsg&&(i.native.hideLoading(),i.native.toast("下载图片失败"))}})},getOpensetting:function(e){var n=this;i.native.hideLoading(),t.showModal({title:"是否授权保存到相册",content:"需要获取您的保存图片权限，请确认授权，否则图片将无法保存到相册",success:function(o){o.confirm&&t.openSetting({success:function(o){console.log(o),o.authSetting["scope.writePhotosAlbum"]?(i.native.showLoadingText("下载中。。。"),n.saveImageToPhotosAlbum(e)):t.showModal({title:"温馨提示",content:"授权失败，请稍后重新获取",showCancel:!1})}})}})},saveFile:function(e){i.native.hideLoading(),t.showModal({title:"温馨提示",content:"小程序只能为您提供查看文件，无法为您提供文件下载，如需下载，请前往pc版本，请您谅解！",confirmText:"查看文件",success:function(n){n.confirm&&(i.native.showLoadingText("正在打开中。。。"),t.saveFile({tempFilePath:e,success:function(e){console.log(e.savedFilePath),t.openDocument({filePath:e.savedFilePath,success:function(t){i.native.hideLoading()},fail:function(t){i.native.hideLoading(),i.native.toast(t.errMsg)}})},fail:function(){i.native.hideLoading(),i.native.toast("打开失败"),console.log("打开失败")}}))}})}}};e.default=f}).call(this,n("543d")["default"])}},[["56d7","common/runtime","common/vendor"]]]);