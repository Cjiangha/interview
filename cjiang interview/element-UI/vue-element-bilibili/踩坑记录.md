# 环境的搭建：
* Vue-cli4脚手架搭建

* cnpm安装
```npm
npm install -g cnpm --registry=https://registry.npm.taobao.org
```
  输入cnpm -v，可以查看当前cnpm版本

* yarn安装
```npm
npm install -g yarn
```

  yarn是个包管理器，是facebook发布的一款取代npm的包管理工具
  //npm安装yarn

* vue-cli脚手架构建工具安装

  ```npm
  如是3.0以下
  npm install -g vue-cli@版本号
  如是3.0以上
  npm install -g @vue/cli@版本号
  cnpm同理
  查看版本号
  vue -V (注意V是大写)
  我的电脑查出来的版本号是：
  @vue/cli 4.5.11，那么默认会安装这个版本
  ```

* 创建项目
vue create 项目名称

* 安装element-UI、Vuex等npm包

  ```js
  cnpm install element-ui --D
  cnpm install vuex --D
  ```

  

* 启动项目
  cd xxx 
  npm run serve

  
# 踩坑
### 解决vue中的NavigationDuplicated {_name: "NavigationDuplicated", name: "NavigationDuplicated"}
[解决vue中的NavigationDuplicated {_name: "NavigationDuplicated", name: "NavigationDuplicated"}](https://www.jianshu.com/p/af280206d57c)

```javascript
//点击没问题 如果在这个点击页面 在点击一次router-link 就会报这个错 但是不影响功能
//去你引用vue-router的页面添加一段代码

const originalPush = Router.prototype.push
Router.prototype.push = function push(location) {
  return originalPush.call(this, location).catch(err => err)
}
//ok
//解决问题
```

# 1、element-UI 的全局引入和按需引入有什么区别

- 最大的区别：打包代码包的时候，全局引入会有很直观的感受，代码包的大小为 4M 多，
  按需引入的话，如果你只是单纯的引用部分的组件，那么代码包只有几百 KB

# 2、 怎么引入 Element

#### 1）、全局引入
你可以引入整个 Element，或是根据需要仅引入部分组件。我们先介绍如何引入完整的 Element。

npm命令



完整引入
在 main.js 中写入以下内容：

```js
import Vue from "vue";
import ElementUI from "element-ui";
import "element-ui/lib/theme-chalk/index.css";
import App from "./App.vue";

Vue.use(ElementUI);

new Vue({
  el: "#app",
  render: (h) => h(App),
});
```

#### 2）、按需引入
 在babel.config.js 配置文件夹下面加入代码
 ```javascript
 "plugins": [
    [
      "component",
      {
        "libraryName": "element-ui",
        "styleLibraryName": "theme-chalk"
      }
    ]
  ]
 ```
  在main.js 文件夹中,添加以下代码，这样子我们就可以愉快的使用各个组件了。

  ```js
    // 按需引入一个组件
    import {Button} from 'element-ui'
    Vue.use(Button)

    // 按需引入两个组件
     import {Button,Radio} from 'element-ui'
     Vue.use(Button)
     Vue.use(Radio)
  ```

# 3、vue路由的使用
###  1）、NPM 包引入,这里我们使用版本@3.2.0

  ```npm
  npm install vue-router@3.2.0
  淘宝镜像
  cnpm install vue-router@3.2.0

  ```

### 2) 在根目录的文件夹下面，创建一个名称为router的文件夹，用于把Vue-router的实例 new VueRouter() 暴露给main.js


### 3) 在根目录下创建一个文件夹view，用于存放我们测试的页面vue文件


### 4)**Vue组件引入写法的注意事项**
* import Home from '../view/Home.vue' ,并注入compoent
* 按需引入，直接使用 component:()=>import(路径名)

### 5)、**相关的api**

**router-link**

我们没有使用常规的 a 标签，而是使用一个自定义组件 router-link 来创建链接。这使得 Vue Router 可以在不重新加载页面的情况下更改 URL，处理 URL 的生成以及编码。

**props:**
  * to 
  * replace 
  * active-class 
  * aria-current-value 
  * custom 
  * exact-active-class

**router-view**
router-view 将显示与 url 对应的组件。你可以把它放在任何地方，以适应你的布局。

  **props:**
  * name
  * route 


# 4、首页UI搭建
### 1)、页面布局的搭建
   aside、header、main 在element-UI官方文档里的组件对应的是container

###  less less-loader@5.0.0 引入
```npm
cnpm install less --D
cnpm install less-loader@5.0.0 --D
```

### 2)、左侧侧边栏的引入


   [NavMenu 导航菜单](https://element.eleme.cn/#/zh-CN/component/menu) 


Menu,Submenu,MenuItem,MenuItemGroup引入在element-UI对应的官方文档是组件NavMenu导航菜单这个组件，引入方式同上。
* el-submenu
    > 在菜单中通过 submenu 组件可以生成二级菜单。
      Menu 还提供了background-color、text-color和active-text-color

    ```HTML
    <el-submenu index="1-4">
      <span slot="title">选项4</span>
      <el-menu-item index="1-4-1">选项1</el-menu-item>
    </el-submenu>
    ```
    ![二级菜单-选项4](noteimages/二级菜单-选项4.png)

* el-menu-item-group
    
    > 通过el-menu-item-group组件可以实现菜单进行分组，分组名可以通过`title`属性直接设定，也可以通过具名 `slot` 来设定。
    ```HTML
     <el-menu-item-group title="分组2">
      <el-menu-item index="1-3">选项3</el-menu-item>
    </el-menu-item-group>
    ```
    
    [![](noteimages/三级菜单(分组2-选项3).png)]()
    
* el-menu-item
    普通的菜单栏的item.
    
   ```HTML
   <el-menu-item index="2">
      <i class="el-icon-menu"></i>
      <span slot="title">导航二</span>
   </el-menu-item>
   ```

     ![](noteimages/导航二.png)



踩坑，遇到一个一级菜单，收缩的时候，他的图标会消失的问题，以为在一级菜单下 添加了外层代码如下所示：
```HTML
   <template slot="title">
      <i class="el-icon-location"></i>
      <span slot="title">导航一</span>
    </template>
  <!-- 那么只要把template去掉后该问题就解决了 -->
```
引发思考:element-UI 下的template的具体的作用是什么呢？？（等待后续补充吧）


Invalid prop: type check failed for prop “index“. Expected String, got Undefined
出现这个报错是因为 :index 里面可能不是字符串，解决方式：
``HTML
<div :index="item.path + ''"></div>
``



[$route和$router的区别详解](https://blog.csdn.net/xunfengZ/article/details/109670979)


* 路由配置：嵌套路由，加一个children作为嵌套路由的二级路由
    $router 是用来操作路由的，$route是用来获取路由信息的。


### $router 
    $router是VueRouter的一个实例，他包含了所有的路由，包括路由的跳转方法，钩子函数等，也包含一些子对象（例如history）
常用的跳转连接的方法：

    ```javascript
    //常规方法
    this.$router.push("/login");
    //使用对象的形式 不带参数
    this.$router.push({ path:"/login" });
    //使用对象的形式，参数为地址栏上的参数
    this.$router.push({ path:"/login",query:{username:"jack"} }); 
    //使用对象的形式 ，参数为params 不会显示在地址栏
    this.$router.push({ name:'user' , params: {id:123} });
    ```


  #### $route
    $ route是一个跳转的路由对象（路由信息对象），每一个路由都会有一个$route对象，是一个局部的对象。


    主要的属性有：
    $route.path 字符串，等于当前路由对象的路径，会被解析为绝对路径，如/home/ews
    $route.params 对象，包含路由中的动态片段和全匹配片段的键值对，不会拼接到路由的url后面 
    $route.query 对象，包含路由中查询参数的键值对。会拼接到路由url后面
    $route.router 路由规则所属的路由器 
    $route.name 当前路由的名字，如果没有使用具体路径，则名字为空

### 3)、header头部的引入
   需要用到的标签以及组件 
   * header
   * el-button 作为菜单的按钮
   * h3  面包屑的文字
   * el-dropdown
   * el-dropdown-menu
   * el-dropdown-item

   css 引入作者写好的 less文件作为引入

# 5、vuex的使用（基于vue-cli脚手架）

### vuex 进行修改的文件有
* src->main.js           //在main.js下进行store的注入
* store->index.js   //维护的仓库
         tab.js     //所定义的tab所对应修改的state,会讲暴露的tab传递到index下的modules


 vue 使用import之后就会报Object(...) is not a function的错
 "vuex": "^4.0.2"
 [兄弟的项目](https://github.com/buxianshan/vue-management-demo/blob/master/package.json)
 看了b站其他人开源的项目 vuex的版本是:"vuex": "^3.6.2"

  **搭配方式**
  "vue": "^2.6.14","vue-router": "^3.5.3", "vuex": "^3.6.2"

```js
// index.js
import Vue from 'vue'
import Vuex from 'vuex'
import tab from './tab.js'

Vue.use(Vuex)

export default new Vuex.Store({
    modules:{
        tab
    }
})
```

```js
// tab.js
export default{
    states:{
        isCollapse:false
    },
    mutations:{
        collapsemenu(state){
            state.isCollapse = !state.isCollapse
        }
    }
}
```

```js
//main.js
import store from '../store'

new Vue({
  store,//使用store
  router,
  render: (h) => h(App),
}).$mount("#app");
```


比较友好入门的文章
[vuex最简单、最详细的入门文档](https://blog.csdn.net/zwhfyy/article/details/123416249)

### 安装npm包依赖
  * npm install vuex 
  * cnpm install vuex 
### 


# 6、记录element-UI组件相关的坑
  ###  dialog   弹出组件的遮罩层以及多层遮罩解决办法
 >  涉及到 dialog组件的两个属性 append-to-body 和 modal-append-to-body
    涉及到两层的dialog 我的解决方法就是在每个dialog组件下面增加属性值 append-to-body即可

!['dialog出现遮罩，并会显示'](\noteimages\dialog出现遮罩全部覆盖的情况.png)






思考过程：
现在想做的事情就是在左侧menu的下方再加一个menu。
思考下需要修改的文件？
第一步 第二步 第三步 第四步
1、menu是怎么写出来的，然后对menu进行添加 新的一行menu
   main.vue -> commonAsside   
               commonAsside 下有一段 data的数据，如果是后端返回的应该就是后端返回这段数据，再根据这段
                             JSON去调用 $router.push方法，根据该item进行匹配到对应的路由的name


思路：menu是由数据组成，Html模板渲染，所以是在左边的menu的data层加入数据，并且给路由配置一个组件，这个组件配置完可以对应的点击后进入到右侧的相关的面包屑的页面





